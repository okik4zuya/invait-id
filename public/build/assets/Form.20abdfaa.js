import{u as O,r as n,R as e,d as E}from"./app.5eaf693d.js";import{S}from"./sweetalert2.all.0bb36313.js";import{S as R,F as i}from"./react-select.esm.7ca4b03d.js";import"./cst-visit.b44e8428.js";import"./typeof.2a08ffa3.js";import"./objectWithoutPropertiesLoose.a7a57350.js";function G({header:C,isEdit:l}){var N;const{auth:g,errors:a,template:s,template_categories:v}=O().props,h=v.map(t=>({label:t.name,value:t.id})),[m,y]=n.exports.useState(l?s.name:""),[b,w]=n.exports.useState(l?s.template_category.map(t=>t.id):[(N=v[0])==null?void 0:N.id]),[f,x]=n.exports.useState(l?s.template_category.map(t=>({label:t.name,value:t.id})):[h[0]]),[c,_]=n.exports.useState(l?s.preview_slug:""),[o,T]=n.exports.useState(l?s.thumbnail:""),[u,I]=n.exports.useState(l?s.template:""),[p,D]=n.exports.useState(l?s.css:""),[d,F]=n.exports.useState(l?s.content:"");function P(t,r){I(t)}function k(t,r){F(t)}function L(t,r){D(t)}function M(t){x(t),w(t.map(r=>r.value)),console.log(t.map(r=>r.value))}const A=async t=>{t.preventDefault(),E.Inertia.post("/account/templates",{name:m,thumbnail:o,preview_slug:c,template_category:b,user_id:g.user.id,template:u,css:p,content:d},{onSuccess:()=>{S.fire({title:"Success!",text:"Data saved successfully!",icon:"success",showConfirmButton:!1,timer:1500})}})},B=async t=>{t.preventDefault(),E.Inertia.put(`/account/templates/${s.id}`,{name:m,thumbnail:o,preview_slug:c,template_category:b,user_id:g.user.id,template:u,css:p,content:d},{onSuccess:()=>{S.fire({title:"Success!",text:"Data saved successfully!",icon:"success",showConfirmButton:!1,timer:1500})}})};return e.createElement("div",{className:"row mt-4"},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"card border-0 rounded shadow-sm border-top-success"},e.createElement("div",{className:"card-header"},e.createElement("span",{className:"font-weight-bold"},e.createElement("i",{className:"fa fa-shield-alt"})," ",C)),e.createElement("div",{className:"card-body"},e.createElement("form",{onSubmit:l?B:A},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Name"),e.createElement("input",{type:"text",className:"form-control",value:m,onChange:t=>y(t.target.value),placeholder:"Enter Name"})),a.name&&e.createElement("div",{className:"alert alert-danger"},a.name),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"fw-bold"},"Select Template Category"),e.createElement(R,{closeMenuOnSelect:!1,defaultValue:f,value:f,isMulti:!0,isSearchable:!0,options:h,onChange:t=>M(t)})),a.template_id&&e.createElement("div",{className:"alert alert-danger"},a.template_id),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"fw-bold"},"Thumbnail"),e.createElement("input",{type:"text",className:"form-control",value:o,onChange:t=>T(t.target.value),placeholder:"Enter Thumbnail"})),a.thumbnail&&e.createElement("div",{className:"alert alert-danger"},a.thumbnail),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"fw-bold"},"Preview Slug"),e.createElement("input",{type:"text",className:"form-control",value:c,onChange:t=>_(t.target.value),placeholder:"Enter Preview Slug"})),a.preview_slug&&e.createElement("div",{className:"alert alert-danger"},a.preview_slug),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"fw-bold"},"Template"),e.createElement(i,{height:"300px",defaultLanguage:"yaml",value:u,theme:"vs-dark",showFoldingControls:!0,onChange:P})),a.template&&e.createElement("div",{className:"alert alert-danger"},a.template),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"fw-bold"},"CSS"),e.createElement(i,{height:"300px",defaultLanguage:"css",value:p,theme:"vs-dark",onChange:L})),a.template&&e.createElement("div",{className:"alert alert-danger"},a.template),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"fw-bold"},"Content"),e.createElement(i,{height:"300px",defaultLanguage:"yaml",value:d,theme:"vs-dark",onChange:k})),a.content&&e.createElement("div",{className:"alert alert-danger"},a.content),e.createElement("div",{className:"position-fixed",style:{top:"70px",right:"20px"}},e.createElement("button",{type:"submit",className:"btn btn-md btn-success me-2"},e.createElement("i",{className:"fa fa-save"})," ",l?"Update":"Save")))))))}export{G as default};
