import{u as B,r as n,R as e,d as N}from"./app.64ffc73b.js";import{S as E}from"./sweetalert2.all.b2606c57.js";import{S as O,F as i}from"./react-select.esm.44c5703a.js";import"./cst-visit.b44e8428.js";import"./typeof.2a08ffa3.js";import"./objectWithoutPropertiesLoose.a7a57350.js";function z({header:S,isEdit:l}){const{auth:g,errors:a,template:s,template_categories:v}=B().props,h=v.map(t=>({label:t.name,value:t.id})),[m,C]=n.exports.useState(l?s.name:""),[b,y]=n.exports.useState(l?s.template_category.map(t=>t.id):[v[0].id]),[f,w]=n.exports.useState(l?s.template_category.map(t=>({label:t.name,value:t.id})):[h[0]]),[c,x]=n.exports.useState(l?s.preview_slug:""),[o,_]=n.exports.useState(l?s.thumbnail:""),[u,T]=n.exports.useState(l?s.template:""),[p,I]=n.exports.useState(l?s.css:""),[d,D]=n.exports.useState(l?s.content:"");function F(t,r){T(t)}function P(t,r){D(t)}function k(t,r){I(t)}function L(t){w(t),y(t.map(r=>r.value)),console.log(t.map(r=>r.value))}const M=async t=>{t.preventDefault(),N.Inertia.post("/account/templates",{name:m,thumbnail:o,preview_slug:c,template_category:b,user_id:g.user.id,template:u,css:p,content:d},{onSuccess:()=>{E.fire({title:"Success!",text:"Data saved successfully!",icon:"success",showConfirmButton:!1,timer:1500})}})},A=async t=>{t.preventDefault(),N.Inertia.put(`/account/templates/${s.id}`,{name:m,thumbnail:o,preview_slug:c,template_category:b,user_id:g.user.id,template:u,css:p,content:d},{onSuccess:()=>{E.fire({title:"Success!",text:"Data saved successfully!",icon:"success",showConfirmButton:!1,timer:1500})}})};return e.createElement("div",{className:"row mt-4"},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"card border-0 rounded shadow-sm border-top-success"},e.createElement("div",{className:"card-header"},e.createElement("span",{className:"font-weight-bold"},e.createElement("i",{className:"fa fa-shield-alt"})," ",S)),e.createElement("div",{className:"card-body"},e.createElement("form",{onSubmit:l?A:M},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Name"),e.createElement("input",{type:"text",className:"form-control",value:m,onChange:t=>C(t.target.value),placeholder:"Enter Name"})),a.name&&e.createElement("div",{className:"alert alert-danger"},a.name),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"fw-bold"},"Select Template Category"),e.createElement(O,{closeMenuOnSelect:!1,defaultValue:f,value:f,isMulti:!0,isSearchable:!0,options:h,onChange:t=>L(t)})),a.template_id&&e.createElement("div",{className:"alert alert-danger"},a.template_id),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"fw-bold"},"Thumbnail"),e.createElement("input",{type:"text",className:"form-control",value:o,onChange:t=>_(t.target.value),placeholder:"Enter Thumbnail"})),a.thumbnail&&e.createElement("div",{className:"alert alert-danger"},a.thumbnail),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"fw-bold"},"Preview Slug"),e.createElement("input",{type:"text",className:"form-control",value:c,onChange:t=>x(t.target.value),placeholder:"Enter Preview Slug"})),a.preview_slug&&e.createElement("div",{className:"alert alert-danger"},a.preview_slug),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"fw-bold"},"Template"),e.createElement(i,{height:"300px",defaultLanguage:"yaml",value:u,theme:"vs-dark",showFoldingControls:!0,onChange:F})),a.template&&e.createElement("div",{className:"alert alert-danger"},a.template),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"fw-bold"},"CSS"),e.createElement(i,{height:"300px",defaultLanguage:"css",value:p,theme:"vs-dark",onChange:k})),a.template&&e.createElement("div",{className:"alert alert-danger"},a.template),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"fw-bold"},"Content"),e.createElement(i,{height:"300px",defaultLanguage:"yaml",value:d,theme:"vs-dark",onChange:P})),a.content&&e.createElement("div",{className:"alert alert-danger"},a.content),e.createElement("div",{className:"position-fixed",style:{top:"70px",right:"20px"}},e.createElement("button",{type:"submit",className:"btn btn-md btn-success me-2"},e.createElement("i",{className:"fa fa-save"})," ",l?"Update":"Save")))))))}export{z as default};
